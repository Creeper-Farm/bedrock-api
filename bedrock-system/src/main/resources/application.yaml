spring:
  application:
    name: bedrock-system
  profiles:
    # 核心：默认激活 dev 环境。部署到生产时，通过启动参数 -Dspring.profiles.active=prod 切换
    active: dev
  main:
    allow-bean-definition-overriding: true

  # 通用 Jackson 配置
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+8
    default-property-inclusion: non_null
    serialization:
      fail-on-empty-beans: false

# 通用日志基础格式
logging:
  pattern:
    # 控制台日志格式：彩色显示
    console: "%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(%5p) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}"
    # 文件日志格式：简洁明了
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} %5p ${PID:- } --- [%t] %-40.40logger{39} : %m%n"

  file:
    # 日志文件的存放路径和名称
    name: logs/bedrock-system.log

  logback:
    rollingpolicy:
      # 日志保留策略
      max-file-size: 10MB      # 单个文件超过 10MB 就自动切分
      max-history: 7           # 只保留最近 7 天的日志
      total-size-cap: 1GB      # 所有日志文件累计不超过 1GB

  level:
    root: info
    com.eggetteluo.redhub: debug # 你的业务代码建议开启 debug，能看到更详细的 SQL 和 AOP 信息